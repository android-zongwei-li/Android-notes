# 1、Kotlin 相对于 Java 有什么优势？

最直观的感受就是Kotlin写的代码更加简洁，相比Java编写相同代码花费的时间和思考更少。

- 数据类。就可以比 Java 少写很多 getter、setter 方法，代码更加清晰简洁。
- 支持空安全。
- 拓展函数。是代码拓展更简单。

#### 2、区分Kotlin和Java

这里使用一个表格来大致概括Kotlin和Java之间的不同，以便于我们更好的区分

| basic        | Kotlin                                                       | Java                                                         |
| ------------ | ------------------------------------------------------------ | ------------------------------------------------------------ |
| 空安全       | 默认情况下，Kotlin 中的各种变量都是不可空的（也就是说，我们不能将null分配给任何变量或对象）。如果我们尝试分配或返回空值，Kotlin 代码将无法构建。如果我们绝对想要一个变量的空值，我们可以这样声明它：value num: Int? = null | NullPointerExceptions 是 Java 开发人员的一大烦恼。用户可以将 null 分配给任何变量，但是，当访问具有 null 值的对象引用时，将抛出空指针异常，用户必须管理该异常。 |
| 协程支持     | 我们可以在 Kotlin 的多个线程中执行长时间运行的昂贵任务，但我们也有协程支持，它会在给定时刻停止执行，而不会在执行长时间运行的高要求操作时阻塞线程。 | 每当我们启动长时间运行的网络 I/0 或 CPU 密集型任务时，Java 中的相应线程就会被阻塞。Android 默认是单线程操作系统。Java 允许您在后台创建和执行大量线程，但管理它们是一项困难的操作。 |
| 数据类       | 如果我们需要在 Kotlin 中有数据保存类，我们可以在类声明中定义一个带有关键字“data”的类，编译器会处理所有事情，包括为各个字段构造构造函数、getter 和 setter 方法。 | 假设我们需要一个 Java 类，它只保存数据而没有其他内容。构造函数、存储数据的变量、getter 和 setter 方法、hashcode()、函数 toString() 和 equals() 函数都需要由开发人员显式编写。 |
| 函数式编程   | Kotlin 是过程式和函数式编程（我们旨在将所有内容绑定到函数单元中的一种编程范式）语言，它具有许多有用的功能，例如 lambda 表达式、运算符重载、高阶函数和惰性求值等。 | Java 直到 Java 8 才允许函数式编程，但是在开发 Android 应用程序的时候，它已经支持 Java 8 功能的子集。 |
| 扩展功能     | Kotlin 使开发人员能够向现有类添加新功能。通过将类名作为新函数名的前缀，我们可以构建扩展函数。 | 在Java中，如果我们想增强现有类的功能，就必须创建一个新类并继承父类。因此，Java 没有任何扩展功能。 |
| 数据类型推断 | 我们不必根据它将在 Kotlin 中处理的赋值来声明每个变量的类型。如果需要，我们可以明确指定。 | 在Java中声明变量时，我们必须显式地声明每个变量的类型。       |
| 智能转换     | Kotlin 中的智能转换将使用关键字“is-checks”处理这些转换检查，它检查不可变值并进行隐式转换。 | 我们必须检查 Java 中变量的类型，并为我们的操作适当地转换它们。 |
| 检查异常     | 我们在 Kotlin 中没有检查异常。因此，开发人员无需声明或捕获异常，这既有利也有弊。 | 我们已经在 Java 中检查了异常支持，这使开发人员能够声明和捕获异常，从而产生更健壮的代码和更好的错误处理。 |

#### Q3: Kotlin 有哪些可用的数据类型？

原始数据类型是Kotlin中最基本的数据类型，其他都是数组、字符串等引用类型。Kotlin包含所有数据类型作为对象。以下是Kotlin中可用的不同数据类型：

![Kotlin数据类型](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/72c5af7e7aa14830a435629a62adfe1c~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp)

- **整数数据类型**

  | 数据类型 | 需要空间 |
  | -------- | -------- |
  | byte     | 8 bits   |
  | short    | 16 bits  |
  | int      | 32 bits  |
  | long     | 64 bits  |

- **浮点数据类型**

  | 数据类型 | 需要空间 |
  | -------- | -------- |
  | float    | 32 bits  |
  | double   | 64 bits  |

- **布尔数据类型**

  真或假是布尔数据类型所代表的唯一信息。在 Kotlin 中，布尔类型与Java中相同。

  | 数据类型 | 需要空间 |
  | -------- | -------- |
  | boolean  | 1 bit    |

- **字符数据类型**

  字符数据类型表示小写字母 (az)、大写字母 (AZ)、数字 (0-9) 和其他符号。

  | 数据类型 | 需要空间 |
  | -------- | -------- |
  | char     | 8 bits   |

- **字符串数据类型**

  字符串在 Kotlin 中由 String 类型表示，字符串值通常是用双引号 (") 括起来的字符序列，这种情况下所需的空间取决于字符串中的字符数。

- **数组数据类型**

  **Kotlin 中的Array 类**用于表示数组。它具有 get 和 set 函数，由于运算符重载约定，这些函数也可以用作“[]”。数组所需的空间还取决于它拥有的元素数量。

#### Q4: Kotlin 中变量是如何声明的？Kotlin 中有哪些不同类型的变量？

Kotlin中的每个变量都必须在使用前声明，如果尝试在不声明变量的情况下使用它会导致语法错误，有权放入内存地址的数据类型由变量类型声明决定，在局部变量的情况下，可以根据初始化值确定变量的类型

Kotlin中有两种类型的变量，它们如下：

![微信图片_20230305152641](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/74297092402a4360a92a51e3d1a397ae~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp)

- **不可变变量**——不可变变量也称为只读变量。它们是使用 val 关键字声明的。一旦声明了这些变量，我们就无法更改它们的值。

  语法如下:

  ```kotlin
  val variableName = value
  ```

  因为它可以用变量的值初始化，所以不可变变量不是常量。这意味着不可变变量的值不需要在编译时知道，并且如果它在多次调用的结构中定义，它可以在每次函数调用时采用不同的值。

- **可变变量**- 在可变变量中，可以更改变量的值，我们使用关键字“var”来声明此类变量。

  语法如下：

  ```kotlin
  var variableName = value
  ```

#### Q5: Kotlin 中的数据类是什么？

Data类是一个简单的类，它保存数据并提供典型的功能。要将类声明为数据类，请使用 data 关键字。

用法：

```kotlin
data class className (list_of_parameters)
```

以下函数由编译器自动为数据类派生:

- **equals()**  : 如果两个对象具有相同的内容，则 *equals()* 函数返回 true。它的操作类似于“==”，尽管对于 *Float* 和 *Double* 值来说它的工作方式不同。
- **hashCode()** : *hashCode()* 函数返回对象的哈希码值。
- **copy()**  : *copy()* 函数用于复制一个对象，只改变它的一些特征，而其余的保持不变。
- **toString()** : 此函数返回包含所有数据类参数的字符串。

同时为了确保一致性，数据类必须要满足以下要求：

- 主构造函数至少需要一个参数。
- val 或 var 必须用于所有主构造函数参数。
- 抽象、开放、密封或内部数据类是不可能的。
- 数据类只能实现接口。

#### Q6: 解释Kotlin中空安全的概念

Kotlin旨在从代码中消除空引用。如果程序在运行时抛出 NullPointerExceptions，可能会导致应用程序故障或系统崩溃。如果Kotlin 编译器发现空引用，它会抛出 NullPointerException。

Kotlin可以区分可空应用（可以容纳null的引用）和非空引用（不可以容纳null的引用）。Null不能存储在String变量中（此时是不可空 引用），如果我们尝试将null分配给变量，编译器则会报错

```kotlin
var a: String = "interview"
a = null //error
```

当然，我们希望上面的字符串也能够保存 null 值，我们可以使用 '?' 将其声明为 nullable 类型。String关键字后的运算符如下：

```kotlin
var a: String? = "interview"
a = null // no compilation error
```

Kotlin 提供了 Safe Call (?.)、Elvis (?:) 和 Not Null Assertion (!!) 运算符，它们定义了遇到 null 时需要执行的操作。这使得代码更可靠，更不容易出错。因此，Kotlin 通过使用可为空、不可为空的类型变量和不同的运算符来解决空值问题，从而强制执行空值安全。


