<font color='orange'>Q1、内存泄露如何查看和解决？</font>

内存泄漏简单来说就是，一个对象在其生命周期结束之后，还被引用着，就会导致内存泄露。具体表现就是会占用更多的内存，导致不能GC。

检测：

1. LeakCanary
2. Monkey，记录
3. 压测

定位：

1. 分析hprof文件（堆内存文件）

   1、adb shell am dumpheap com.example.demo /data/local/tmp/xxx.hprof 生成堆内存文件，并pull出来，放到AS中。

   2、在AS中，我们可以看到某个类的实例总数（Allocations）。比如发现MainActivity有十多个，基本就可以确定泄漏了。

   3、在AS中，还可以查看其引用链，找到一直持有它的引用。

解决：

找到问题后，看代码具体情况，进行修复。

对于内存泄漏的问题，我认为最重要的是能够发现问题。这个问题单靠程序员是很难保证完全避免这种问题的。最好是有配套的、可靠的开发流程来保证在上线前所有可能的问题都暴露出来。

> 概念、看法





<font color='orange'>Q2、常见的内存泄露有哪些？</font>

1. 单例。例如单例中的Context生命周期大于本身Context生命周期；
2. 线程。使用Hander造成的，当activity已经结束，线程依然在运行更新UI；
3. 非静态类使用静态变量导致无法回收释放造成泄露
4. WebView网页过多造成内存泄露
5. 资源未关闭造成泄露，例如数据库使用完之后关闭连接

