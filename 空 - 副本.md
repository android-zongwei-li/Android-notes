明确优化目标：

一般都是对比竞品。

明确对比场景。是首页静止对比，还是应用全功能遍历对比。

不管是首页静止对比，还是遍历对比，或者其他，要注意识别出需求差异和实现差异。

有时候，需求不同、实现不同带来的差异是没有优化空间的。



1、在内存优化中，怎么识别可以优化的点

（1）对比竞品。找到内存差异点。

如果是需求实现不同，看不同实现，带来的差异有多大。

案例：

【查看隐私政策】功能，在应用内实现webView查看内存和跳转到浏览器查看，两者存在的差异可能超过80M。





# 优化方法论

1、直接分析法

内存分析

看profile文件，识别出占用较大的对象。



业务分析

看业务上是否有优化空间，比如，不同机型/不同用户之间的功能存在差异。

案例：

高端机不需要显示广告页面。实现一，在广告显示的地方，进行判断。实现二，在application的时候，再加一个判断，高端机不去出初始化广告sdk。

启发：将判断提前，可以避免内存的占用。





经验法

凭借经验优化。



2、排除法/对比法

同一个Activity，比对setContentView()加载业务xml和空的xml之间存在多少差异，看优化的空间有多大。



3、控制变量法

在优化的过程中，要注意控制变量。比如网络情况，不同的应用在有无网络情况下，会有不同实现，比如有网络，要请求数据并展示图片/数据等。





2、内存优化思路

识别出共用的属性，由类static进行持有，能只初始化一次的就只初始化一次。
